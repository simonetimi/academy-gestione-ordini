<div class="form-container">
  <h2>Registrazione</h2>
  <form class="auth-form" (ngSubmit)="signup()" [formGroup]="signupForm">
    <mat-form-field>
      <mat-label>Username</mat-label>
      <input name="username" matInput formControlName="username" />
      <mat-hint
        *ngIf="
          signupForm.controls.username.touched &&
          signupForm.controls.username.invalid
        "
        >Username obbligatorio</mat-hint
      >
    </mat-form-field>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input name="email" type="email" matInput formControlName="email" />
      <mat-hint
        *ngIf="
          signupForm.controls.email.touched && signupForm.controls.email.invalid
        "
        >Inserire una mail valida</mat-hint
      >
    </mat-form-field>
    <mat-form-field>
      <mat-label>Password</mat-label>
      <input
        name="password"
        type="password"
        matInput
        formControlName="password"
      />
      <mat-hint
        *ngIf="
          signupForm.controls.password.touched &&
          signupForm.controls.password.invalid
        "
        >Password obbligatoria, min 4 caratteri</mat-hint
      >
    </mat-form-field>

    <mat-form-field>
      <mat-label>Ruolo</mat-label>
      <mat-select formControlName="role" required>
        <!--        <mat-option>&#45;&#45;</mat-option>-->
        @for (role of arrayRoles; track role) {
          <mat-option [value]="role">{{role}}</mat-option>
        }
      </mat-select>
      @if (signupForm.hasError('required')) {
        <mat-error>
          Scegli Iva
        </mat-error>
      }
    </mat-form-field>
    <button mat-flat-button [disabled]="!signupForm.valid">Registrati</button>
  </form>
</div>
